{"version":3,"file":"ruta.js","sources":["D:/atma/ruta/lib/ruta.js"],"names":["root","factory","window","document","global","ruta","this","router_ensure","router","Location","routes","obj_extend","obj_create","mask","Mask","_cfg_isStrict","_Array_slice","Array","prototype","slice","a","b","key","Object","create","x","Ctor","log_error","args","call","arguments","console","error","apply","concat","path_normalize","path_split","path_join","path_fromCLI","path_getQuery","path_setQuery","cli_split","string","c","arg","trim","split","imax","length","i","start","str","splice","join","cli_parseArguments","argv","val","params","push","replace","path","query","j","substring","pathParts","commands","parts","parts_serialize","indexOf","query_deserialize","mix","query_serialize","obj_setProperty","obj","property","value","chain","decode","decodeURIComponent","encode","encodeURIComponent","delimiter","rgx_fromString","rgx_aliasMatcher","rgx_parsePartWithRegExpAlias","flags","RegExp","groups","pStart","pEnd","lastIndexOf","rgx","alias","matcher","parts_deserialize","url","Routes","Route","definition","method","charCodeAt","toUpperCase","strict","route_parseDefinition","RouteCollection","route_parsePath","getAliasedValue","test","route","end","match","search","searchIndex","c0","index","c1","last","isOptional","isAlias","gettingMatcher","array","bracketIndex","optional","eqIndex","queryIndex","current","name","part","pathArr","routePath","routeLength","route_match","route_isMatch","hasKey","currentMethod","add","regpath","get","clear","parse","HashEmitter","listener","that","onhashchange","changed","location","hash","HistoryEmitter","history","pushState","initial","pathname","onpopstate","collection","type","Constructor","emitter","hash_normalize","navigate","opts","isQueryObject","extend","item","action","currentPath","ApiUtils","pathFromCLI","serialize","deserialize","path_","Ruta","Collection","setRouterType","setStrictBehaviour","isStrict","notifyCurrent","$utils","_","event","preventDefault","stopPropagation","href","registerAttrHandler","node","model","ctx","tag","onclick"],"mappings":"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"}